language: go
env:
  TRAVIS_BUILD=true
go:
  - 1.6
  - 1.7
  - master
services:
  - postgresql
install:
  - go get github.com/beego/bee
  - go get github.com/tools/godep
  - godep get
  - go get -u github.com/alecthomas/gometalinter
  - gometalinter --install
before_script:
  - psql -c 'create database summercamp_test;' -U postgres
  - ./prepare_version.sh
script:
  - gometalinter ./... && go test ./tests && bee pack